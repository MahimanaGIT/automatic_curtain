<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Automatic Curtain: MotorDriver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Automatic Curtain
   &#160;<span id="projectnumber">MVP</span>
   </div>
   <div id="projectbrief">Software repository for an automatic curtain using stepper motor, TMC2209 and ESP32</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classMotorDriver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classMotorDriver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MotorDriver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="motor__driver_8h_source.html">motor_driver.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MotorDriver:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver__inherit__graph.png" border="0" usemap="#MotorDriver_inherit__map" alt="Inheritance graph"/></div>
<map name="MotorDriver_inherit__map" id="MotorDriver_inherit__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for MotorDriver:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver__coll__graph.png" border="0" usemap="#MotorDriver_coll__map" alt="Collaboration graph"/></div>
<map name="MotorDriver_coll__map" id="MotorDriver_coll__map">
<area shape="rect" id="node3" href="structCONFIG__SET_1_1CALIB__PARAMS.html" title="CONFIG_SET::CALIB_PARAMS" alt="" coords="154,5,373,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac03c1c5c2ac455e46fe196881641b366"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#ac03c1c5c2ac455e46fe196881641b366">MotorDriver</a> (std::shared_ptr&lt; <a class="el" href="classLogging.html">Logging</a> &gt; &amp;logging)</td></tr>
<tr class="memdesc:ac03c1c5c2ac455e46fe196881641b366"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes motor drive TMC2209, and required pins.  <a href="#ac03c1c5c2ac455e46fe196881641b366">More...</a><br /></td></tr>
<tr class="separator:ac03c1c5c2ac455e46fe196881641b366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534f4ca22b5dcffc9e40aafef09c76e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a534f4ca22b5dcffc9e40aafef09c76e5">MotorDriver</a> (std::shared_ptr&lt; <a class="el" href="classLogging.html">Logging</a> &gt; &amp;logging, <a class="el" href="structCONFIG__SET_1_1CALIB__PARAMS.html">CONFIG_SET::CALIB_PARAMS</a> calib_param)</td></tr>
<tr class="memdesc:a534f4ca22b5dcffc9e40aafef09c76e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes motor drive TMC2209, and required pins.  <a href="#a534f4ca22b5dcffc9e40aafef09c76e5">More...</a><br /></td></tr>
<tr class="separator:a534f4ca22b5dcffc9e40aafef09c76e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ead9d8f796501adf9889a8e5aa7afc5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a6ead9d8f796501adf9889a8e5aa7afc5">~MotorDriver</a> ()</td></tr>
<tr class="memdesc:a6ead9d8f796501adf9889a8e5aa7afc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans and disables motor driver.  <a href="#a6ead9d8f796501adf9889a8e5aa7afc5">More...</a><br /></td></tr>
<tr class="separator:a6ead9d8f796501adf9889a8e5aa7afc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a33492e58ce3c13cd3c090c704b1734"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceCONFIG__SET.html#a722f4ba49e35faf1a2504aa23677b2f0">CONFIG_SET::DRIVER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a1a33492e58ce3c13cd3c090c704b1734">GetStatus</a> ()</td></tr>
<tr class="memdesc:a1a33492e58ce3c13cd3c090c704b1734"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the status of the motor driver, by checking if the motor is running or the driver is in fault, or the motor is available for next request.  <a href="#a1a33492e58ce3c13cd3c090c704b1734">More...</a><br /></td></tr>
<tr class="separator:a1a33492e58ce3c13cd3c090c704b1734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf134c97d67e0ce422853cc1cb7684a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#aaf134c97d67e0ce422853cc1cb7684a9">GetSteps</a> ()</td></tr>
<tr class="memdesc:aaf134c97d67e0ce422853cc1cb7684a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current steps of motor.  <a href="#aaf134c97d67e0ce422853cc1cb7684a9">More...</a><br /></td></tr>
<tr class="separator:aaf134c97d67e0ce422853cc1cb7684a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a409447a5b649f11549d4c6764a304d11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a409447a5b649f11549d4c6764a304d11">GetPercentage</a> ()</td></tr>
<tr class="memdesc:a409447a5b649f11549d4c6764a304d11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current percentage of motor.  <a href="#a409447a5b649f11549d4c6764a304d11">More...</a><br /></td></tr>
<tr class="separator:a409447a5b649f11549d4c6764a304d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47d4e4a6cd3eec255eee3864a45e7e76"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a47d4e4a6cd3eec255eee3864a45e7e76">FulfillRequest</a> (<a class="el" href="structCONFIG__SET_1_1MOTION__REQUEST.html">CONFIG_SET::MOTION_REQUEST</a> request)</td></tr>
<tr class="memdesc:a47d4e4a6cd3eec255eee3864a45e7e76"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the primary contact function for external requests, it will handle all requests from the controller or anywhere else, run the thread for supplying steps.  <a href="#a47d4e4a6cd3eec255eee3864a45e7e76">More...</a><br /></td></tr>
<tr class="separator:a47d4e4a6cd3eec255eee3864a45e7e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a7f20e03d76a0c1dac5e2080edd832"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#af1a7f20e03d76a0c1dac5e2080edd832">CancelCurrentRequest</a> ()</td></tr>
<tr class="memdesc:af1a7f20e03d76a0c1dac5e2080edd832"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels current request.  <a href="#af1a7f20e03d76a0c1dac5e2080edd832">More...</a><br /></td></tr>
<tr class="separator:af1a7f20e03d76a0c1dac5e2080edd832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e97c6adc4df4d186d6799dfd8165b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a04e97c6adc4df4d186d6799dfd8165b2">UpdateCalibParams</a> (<a class="el" href="structCONFIG__SET_1_1CALIB__PARAMS.html">CONFIG_SET::CALIB_PARAMS</a> calib_param)</td></tr>
<tr class="memdesc:a04e97c6adc4df4d186d6799dfd8165b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates calibration parameters to be used by motor driver.  <a href="#a04e97c6adc4df4d186d6799dfd8165b2">More...</a><br /></td></tr>
<tr class="separator:a04e97c6adc4df4d186d6799dfd8165b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c47b4f550a3ee08e7da340e699ba76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a43c47b4f550a3ee08e7da340e699ba76">StopHandler</a> ()</td></tr>
<tr class="memdesc:a43c47b4f550a3ee08e7da340e699ba76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop handler thread.  <a href="#a43c47b4f550a3ee08e7da340e699ba76">More...</a><br /></td></tr>
<tr class="separator:a43c47b4f550a3ee08e7da340e699ba76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a74f208c889afd6ed5cf5008fbb0fdb63"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a74f208c889afd6ed5cf5008fbb0fdb63">InterruptForIndex</a> ()</td></tr>
<tr class="memdesc:a74f208c889afd6ed5cf5008fbb0fdb63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs on a timer, supplies step and direction signal to motor driver.  <a href="#a74f208c889afd6ed5cf5008fbb0fdb63">More...</a><br /></td></tr>
<tr class="separator:a74f208c889afd6ed5cf5008fbb0fdb63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1eee734aa12c1565d6ae629924962115"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a1eee734aa12c1565d6ae629924962115">Handler</a> ()</td></tr>
<tr class="memdesc:a1eee734aa12c1565d6ae629924962115"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor Driver class handler, communicates with driver and is responsible for reading latest motion request, cancellationof request, and acting upon it i.e. moving the motor and stopping it when stall is detected, or motor reached destination or stop is requested or timer limit is reached.  <a href="#a1eee734aa12c1565d6ae629924962115">More...</a><br /></td></tr>
<tr class="separator:a1eee734aa12c1565d6ae629924962115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754252fe0d18118e074cbdc1fe42da57"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a754252fe0d18118e074cbdc1fe42da57">EnableDriver</a> (bool enable)</td></tr>
<tr class="memdesc:a754252fe0d18118e074cbdc1fe42da57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable Motor Driver Give argument as true for enabling, false for disabling the driver.  <a href="#a754252fe0d18118e074cbdc1fe42da57">More...</a><br /></td></tr>
<tr class="separator:a754252fe0d18118e074cbdc1fe42da57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9151c6649515b7ff61dc6159456ffa80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a9151c6649515b7ff61dc6159456ffa80">InitializeDriver</a> ()</td></tr>
<tr class="memdesc:a9151c6649515b7ff61dc6159456ffa80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets needed parameters for the driver.  <a href="#a9151c6649515b7ff61dc6159456ffa80">More...</a><br /></td></tr>
<tr class="separator:a9151c6649515b7ff61dc6159456ffa80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ebab90ca98fa04463de1cbae76af994"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a5ebab90ca98fa04463de1cbae76af994">StartMotor</a> ()</td></tr>
<tr class="memdesc:a5ebab90ca98fa04463de1cbae76af994"><td class="mdescLeft">&#160;</td><td class="mdescRight">Responsible for starting the motor, i.e. setups the driver and sets required velocity of motor.  <a href="#a5ebab90ca98fa04463de1cbae76af994">More...</a><br /></td></tr>
<tr class="separator:a5ebab90ca98fa04463de1cbae76af994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff8659e64841fb4b97c23b3494cd0575"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#aff8659e64841fb4b97c23b3494cd0575">StopMotor</a> ()</td></tr>
<tr class="memdesc:aff8659e64841fb4b97c23b3494cd0575"><td class="mdescLeft">&#160;</td><td class="mdescRight">Responsible for stopping the motor, i.e. disables the driver and sets velocity of motor to zero.  <a href="#aff8659e64841fb4b97c23b3494cd0575">More...</a><br /></td></tr>
<tr class="separator:aff8659e64841fb4b97c23b3494cd0575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64827491330490668bb8f8e57d0f3942"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a64827491330490668bb8f8e57d0f3942">StartHandler</a> ()</td></tr>
<tr class="memdesc:a64827491330490668bb8f8e57d0f3942"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts handler thread.  <a href="#a64827491330490668bb8f8e57d0f3942">More...</a><br /></td></tr>
<tr class="separator:a64827491330490668bb8f8e57d0f3942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19833e114feff56c3a7d1d032a455e0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a19833e114feff56c3a7d1d032a455e0a">ResetSteps</a> ()</td></tr>
<tr class="memdesc:a19833e114feff56c3a7d1d032a455e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the current steps of motor.  <a href="#a19833e114feff56c3a7d1d032a455e0a">More...</a><br /></td></tr>
<tr class="separator:a19833e114feff56c3a7d1d032a455e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad99c6f2f224f78428b137f7856cfba4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceCONFIG__SET.html#a722f4ba49e35faf1a2504aa23677b2f0">CONFIG_SET::DRIVER_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#ad99c6f2f224f78428b137f7856cfba4b">driver_status_</a></td></tr>
<tr class="separator:ad99c6f2f224f78428b137f7856cfba4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d3e952c7708106df0c86196490a499"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structCONFIG__SET_1_1CALIB__PARAMS.html">CONFIG_SET::CALIB_PARAMS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#aa2d3e952c7708106df0c86196490a499">calib_params_</a></td></tr>
<tr class="separator:aa2d3e952c7708106df0c86196490a499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c443fae635cf2b50bfa205ac4f6418e"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classLogging.html">Logging</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a6c443fae635cf2b50bfa205ac4f6418e">logger_</a></td></tr>
<tr class="separator:a6c443fae635cf2b50bfa205ac4f6418e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbc66ce217161de9ed45003718cd6c0e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#abbc66ce217161de9ed45003718cd6c0e">is_motor_running_</a> = false</td></tr>
<tr class="separator:abbc66ce217161de9ed45003718cd6c0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d3f7015a61c62463ea3e718c5bba1c"><td class="memItemLeft" align="right" valign="top">hw_timer_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a86d3f7015a61c62463ea3e718c5bba1c">step_timer_</a> = NULL</td></tr>
<tr class="separator:a86d3f7015a61c62463ea3e718c5bba1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a140b9b922847586721725b7e76943c1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a140b9b922847586721725b7e76943c1e">expected_step_</a> = 0</td></tr>
<tr class="separator:a140b9b922847586721725b7e76943c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc772188969ac8c859d1e9c800eb0076"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#acc772188969ac8c859d1e9c800eb0076">blind_traversal_requested_</a> = false</td></tr>
<tr class="separator:acc772188969ac8c859d1e9c800eb0076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c190777a6bcad1ea12f73707ed67de9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a6c190777a6bcad1ea12f73707ed67de9">stop_requested_</a> = false</td></tr>
<tr class="separator:a6c190777a6bcad1ea12f73707ed67de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a930d873aa0a5961bd49b8b68553f5044"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a930d873aa0a5961bd49b8b68553f5044">keep_handler_running_</a> = false</td></tr>
<tr class="separator:a930d873aa0a5961bd49b8b68553f5044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a938712bd2b784e0db660fdb30ad312af"><td class="memItemLeft" align="right" valign="top">std::time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a938712bd2b784e0db660fdb30ad312af">last_motor_start_time_sec_</a> = std::time(nullptr)</td></tr>
<tr class="separator:a938712bd2b784e0db660fdb30ad312af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec36906063e5e09d5bb7f7843f526874"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; std::thread &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#aec36906063e5e09d5bb7f7843f526874">handler_thread_</a> {nullptr}</td></tr>
<tr class="separator:aec36906063e5e09d5bb7f7843f526874"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ab49b3ca9359af0016c206960887349b1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#ab49b3ca9359af0016c206960887349b1">full_rot_step_count_</a> = (4 * <a class="el" href="namespaceCONFIG__SET.html#a7028034ed96d5ef10a87d1cdc12c5d27">CONFIG_SET::MOTOR_DRIVER_MICROSTEP</a>)</td></tr>
<tr class="separator:ab49b3ca9359af0016c206960887349b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9072fc26381b16a6a5e39ab1d7ed1e46"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a9072fc26381b16a6a5e39ab1d7ed1e46">current_step_</a> = 0</td></tr>
<tr class="separator:a9072fc26381b16a6a5e39ab1d7ed1e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09cb1d904ff0b9ce54f17fa54aec8c70"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMotorDriver.html#a09cb1d904ff0b9ce54f17fa54aec8c70">direction_</a> = false</td></tr>
<tr class="separator:a09cb1d904ff0b9ce54f17fa54aec8c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac03c1c5c2ac455e46fe196881641b366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac03c1c5c2ac455e46fe196881641b366">&#9670;&nbsp;</a></span>MotorDriver() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MotorDriver::MotorDriver </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classLogging.html">Logging</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>logging</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes motor drive TMC2209, and required pins. </p>

</div>
</div>
<a id="a534f4ca22b5dcffc9e40aafef09c76e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a534f4ca22b5dcffc9e40aafef09c76e5">&#9670;&nbsp;</a></span>MotorDriver() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MotorDriver::MotorDriver </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classLogging.html">Logging</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>logging</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCONFIG__SET_1_1CALIB__PARAMS.html">CONFIG_SET::CALIB_PARAMS</a>&#160;</td>
          <td class="paramname"><em>calib_param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes motor drive TMC2209, and required pins. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a534f4ca22b5dcffc9e40aafef09c76e5_cgraph.png" border="0" usemap="#classMotorDriver_a534f4ca22b5dcffc9e40aafef09c76e5_cgraph" alt=""/></div>
<map name="classMotorDriver_a534f4ca22b5dcffc9e40aafef09c76e5_cgraph" id="classMotorDriver_a534f4ca22b5dcffc9e40aafef09c76e5_cgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a19833e114feff56c3a7d1d032a455e0a" title="Reset the current steps of motor. " alt="" coords="222,5,389,32"/>
<area shape="rect" id="node3" href="classMotorDriver.html#a04e97c6adc4df4d186d6799dfd8165b2" title="Updates calibration parameters to be used by motor driver. " alt="" coords="220,57,391,98"/>
<area shape="rect" id="node6" href="classMotorDriver.html#a74f208c889afd6ed5cf5008fbb0fdb63" title="Runs on a timer, supplies step and direction signal to motor driver. " alt="" coords="223,122,388,163"/>
<area shape="rect" id="node7" href="classMotorDriver.html#a64827491330490668bb8f8e57d0f3942" title="Starts handler thread. " alt="" coords="220,188,391,215"/>
<area shape="rect" id="node4" href="classMotorDriver.html#a754252fe0d18118e074cbdc1fe42da57" title="Enable Motor Driver Give argument as true for enabling, false for disabling the driver. " alt="" coords="875,125,1048,152"/>
<area shape="rect" id="node5" href="classMotorDriver.html#a9151c6649515b7ff61dc6159456ffa80" title="Sets needed parameters for the driver. " alt="" coords="439,115,620,141"/>
<area shape="rect" id="node8" href="classMotorDriver.html#a1eee734aa12c1565d6ae629924962115" title="Motor Driver class handler, communicates with driver and is responsible for reading latest motion req..." alt="" coords="458,176,601,203"/>
<area shape="rect" id="node9" href="classMotorDriver.html#aff8659e64841fb4b97c23b3494cd0575" title="Responsible for stopping the motor, i.e. disables the driver and sets velocity of motor to zero..." alt="" coords="668,125,827,152"/>
<area shape="rect" id="node10" href="classMotorDriver.html#a5ebab90ca98fa04463de1cbae76af994" title="Responsible for starting the motor, i.e. setups the driver and sets required velocity of motor..." alt="" coords="668,176,827,203"/>
</map>
</div>

</div>
</div>
<a id="a6ead9d8f796501adf9889a8e5aa7afc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ead9d8f796501adf9889a8e5aa7afc5">&#9670;&nbsp;</a></span>~MotorDriver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MotorDriver::~MotorDriver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleans and disables motor driver. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a6ead9d8f796501adf9889a8e5aa7afc5_cgraph.png" border="0" usemap="#classMotorDriver_a6ead9d8f796501adf9889a8e5aa7afc5_cgraph" alt=""/></div>
<map name="classMotorDriver_a6ead9d8f796501adf9889a8e5aa7afc5_cgraph" id="classMotorDriver_a6ead9d8f796501adf9889a8e5aa7afc5_cgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a754252fe0d18118e074cbdc1fe42da57" title="Enable Motor Driver Give argument as true for enabling, false for disabling the driver. " alt="" coords="228,5,401,32"/>
<area shape="rect" id="node3" href="classMotorDriver.html#a43c47b4f550a3ee08e7da340e699ba76" title="Stop handler thread. " alt="" coords="229,56,400,83"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af1a7f20e03d76a0c1dac5e2080edd832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1a7f20e03d76a0c1dac5e2080edd832">&#9670;&nbsp;</a></span>CancelCurrentRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorDriver::CancelCurrentRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancels current request. </p>
<dl class="section return"><dt>Returns</dt><dd>true: Cancellation successful </dd>
<dd>
false: otherwise </dd></dl>

</div>
</div>
<a id="a754252fe0d18118e074cbdc1fe42da57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a754252fe0d18118e074cbdc1fe42da57">&#9670;&nbsp;</a></span>EnableDriver()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorDriver::EnableDriver </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable Motor Driver Give argument as true for enabling, false for disabling the driver. </p>
<dl class="section return"><dt>Returns</dt><dd>true : if successful </dd>
<dd>
false : otherwise </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a754252fe0d18118e074cbdc1fe42da57_icgraph.png" border="0" usemap="#classMotorDriver_a754252fe0d18118e074cbdc1fe42da57_icgraph" alt=""/></div>
<map name="classMotorDriver_a754252fe0d18118e074cbdc1fe42da57_icgraph" id="classMotorDriver_a754252fe0d18118e074cbdc1fe42da57_icgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a6ead9d8f796501adf9889a8e5aa7afc5" title="Cleans and disables motor driver. " alt="" coords="227,5,401,32"/>
<area shape="rect" id="node3" href="classMotorDriver.html#a04e97c6adc4df4d186d6799dfd8165b2" title="Updates calibration parameters to be used by motor driver. " alt="" coords="449,49,620,90"/>
<area shape="rect" id="node5" href="classMotorDriver.html#aff8659e64841fb4b97c23b3494cd0575" title="Responsible for stopping the motor, i.e. disables the driver and sets velocity of motor to zero..." alt="" coords="235,107,393,133"/>
<area shape="rect" id="node8" href="classMotorDriver.html#a5ebab90ca98fa04463de1cbae76af994" title="Responsible for starting the motor, i.e. setups the driver and sets required velocity of motor..." alt="" coords="235,157,393,184"/>
<area shape="rect" id="node4" href="classMotorDriver.html#a534f4ca22b5dcffc9e40aafef09c76e5" title="Initializes motor drive TMC2209, and required pins. " alt="" coords="887,85,1053,112"/>
<area shape="rect" id="node6" href="classMotorDriver.html#a1eee734aa12c1565d6ae629924962115" title="Motor Driver class handler, communicates with driver and is responsible for reading latest motion req..." alt="" coords="463,115,606,141"/>
<area shape="rect" id="node7" href="classMotorDriver.html#a64827491330490668bb8f8e57d0f3942" title="Starts handler thread. " alt="" coords="668,111,839,137"/>
</map>
</div>

</div>
</div>
<a id="a47d4e4a6cd3eec255eee3864a45e7e76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47d4e4a6cd3eec255eee3864a45e7e76">&#9670;&nbsp;</a></span>FulfillRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorDriver::FulfillRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCONFIG__SET_1_1MOTION__REQUEST.html">CONFIG_SET::MOTION_REQUEST</a>&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the primary contact function for external requests, it will handle all requests from the controller or anywhere else, run the thread for supplying steps. </p>
<dl class="section return"><dt>Returns</dt><dd>true : request accepted </dd>
<dd>
false : rejected </dd></dl>

</div>
</div>
<a id="a409447a5b649f11549d4c6764a304d11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a409447a5b649f11549d4c6764a304d11">&#9670;&nbsp;</a></span>GetPercentage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MotorDriver::GetPercentage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current percentage of motor. </p>
<dl class="section return"><dt>Returns</dt><dd>current percentage </dd></dl>

</div>
</div>
<a id="a1a33492e58ce3c13cd3c090c704b1734"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a33492e58ce3c13cd3c090c704b1734">&#9670;&nbsp;</a></span>GetStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceCONFIG__SET.html#a722f4ba49e35faf1a2504aa23677b2f0">CONFIG_SET::DRIVER_STATUS</a> MotorDriver::GetStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the status of the motor driver, by checking if the motor is running or the driver is in fault, or the motor is available for next request. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="namespaceCONFIG__SET.html#a722f4ba49e35faf1a2504aa23677b2f0">CONFIG_SET::DRIVER_STATUS</a> </dd></dl>

</div>
</div>
<a id="aaf134c97d67e0ce422853cc1cb7684a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf134c97d67e0ce422853cc1cb7684a9">&#9670;&nbsp;</a></span>GetSteps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MotorDriver::GetSteps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current steps of motor. </p>
<dl class="section return"><dt>Returns</dt><dd>current_steps </dd></dl>

</div>
</div>
<a id="a1eee734aa12c1565d6ae629924962115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eee734aa12c1565d6ae629924962115">&#9670;&nbsp;</a></span>Handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver::Handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Motor Driver class handler, communicates with driver and is responsible for reading latest motion request, cancellationof request, and acting upon it i.e. moving the motor and stopping it when stall is detected, or motor reached destination or stop is requested or timer limit is reached. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a1eee734aa12c1565d6ae629924962115_cgraph.png" border="0" usemap="#classMotorDriver_a1eee734aa12c1565d6ae629924962115_cgraph" alt=""/></div>
<map name="classMotorDriver_a1eee734aa12c1565d6ae629924962115_cgraph" id="classMotorDriver_a1eee734aa12c1565d6ae629924962115_cgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#aff8659e64841fb4b97c23b3494cd0575" title="Responsible for stopping the motor, i.e. disables the driver and sets velocity of motor to zero..." alt="" coords="196,5,355,32"/>
<area shape="rect" id="node4" href="classMotorDriver.html#a5ebab90ca98fa04463de1cbae76af994" title="Responsible for starting the motor, i.e. setups the driver and sets required velocity of motor..." alt="" coords="196,56,355,83"/>
<area shape="rect" id="node3" href="classMotorDriver.html#a754252fe0d18118e074cbdc1fe42da57" title="Enable Motor Driver Give argument as true for enabling, false for disabling the driver. " alt="" coords="403,31,576,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a1eee734aa12c1565d6ae629924962115_icgraph.png" border="0" usemap="#classMotorDriver_a1eee734aa12c1565d6ae629924962115_icgraph" alt=""/></div>
<map name="classMotorDriver_a1eee734aa12c1565d6ae629924962115_icgraph" id="classMotorDriver_a1eee734aa12c1565d6ae629924962115_icgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a64827491330490668bb8f8e57d0f3942" title="Starts handler thread. " alt="" coords="196,5,367,32"/>
<area shape="rect" id="node3" href="classMotorDriver.html#a534f4ca22b5dcffc9e40aafef09c76e5" title="Initializes motor drive TMC2209, and required pins. " alt="" coords="415,5,581,32"/>
</map>
</div>

</div>
</div>
<a id="a9151c6649515b7ff61dc6159456ffa80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9151c6649515b7ff61dc6159456ffa80">&#9670;&nbsp;</a></span>InitializeDriver()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver::InitializeDriver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets needed parameters for the driver. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a9151c6649515b7ff61dc6159456ffa80_icgraph.png" border="0" usemap="#classMotorDriver_a9151c6649515b7ff61dc6159456ffa80_icgraph" alt=""/></div>
<map name="classMotorDriver_a9151c6649515b7ff61dc6159456ffa80_icgraph" id="classMotorDriver_a9151c6649515b7ff61dc6159456ffa80_icgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a04e97c6adc4df4d186d6799dfd8165b2" title="Updates calibration parameters to be used by motor driver. " alt="" coords="235,5,405,47"/>
<area shape="rect" id="node3" href="classMotorDriver.html#a534f4ca22b5dcffc9e40aafef09c76e5" title="Initializes motor drive TMC2209, and required pins. " alt="" coords="453,13,620,39"/>
</map>
</div>

</div>
</div>
<a id="a74f208c889afd6ed5cf5008fbb0fdb63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74f208c889afd6ed5cf5008fbb0fdb63">&#9670;&nbsp;</a></span>InterruptForIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void IRAM_ATTR MotorDriver::InterruptForIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs on a timer, supplies step and direction signal to motor driver. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a74f208c889afd6ed5cf5008fbb0fdb63_icgraph.png" border="0" usemap="#classMotorDriver_a74f208c889afd6ed5cf5008fbb0fdb63_icgraph" alt=""/></div>
<map name="classMotorDriver_a74f208c889afd6ed5cf5008fbb0fdb63_icgraph" id="classMotorDriver_a74f208c889afd6ed5cf5008fbb0fdb63_icgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a534f4ca22b5dcffc9e40aafef09c76e5" title="Initializes motor drive TMC2209, and required pins. " alt="" coords="219,13,385,39"/>
</map>
</div>

</div>
</div>
<a id="a19833e114feff56c3a7d1d032a455e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19833e114feff56c3a7d1d032a455e0a">&#9670;&nbsp;</a></span>ResetSteps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver::ResetSteps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the current steps of motor. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a19833e114feff56c3a7d1d032a455e0a_icgraph.png" border="0" usemap="#classMotorDriver_a19833e114feff56c3a7d1d032a455e0a_icgraph" alt=""/></div>
<map name="classMotorDriver_a19833e114feff56c3a7d1d032a455e0a_icgraph" id="classMotorDriver_a19833e114feff56c3a7d1d032a455e0a_icgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a534f4ca22b5dcffc9e40aafef09c76e5" title="Initializes motor drive TMC2209, and required pins. " alt="" coords="220,5,387,32"/>
</map>
</div>

</div>
</div>
<a id="a64827491330490668bb8f8e57d0f3942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64827491330490668bb8f8e57d0f3942">&#9670;&nbsp;</a></span>StartHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver::StartHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts handler thread. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a64827491330490668bb8f8e57d0f3942_cgraph.png" border="0" usemap="#classMotorDriver_a64827491330490668bb8f8e57d0f3942_cgraph" alt=""/></div>
<map name="classMotorDriver_a64827491330490668bb8f8e57d0f3942_cgraph" id="classMotorDriver_a64827491330490668bb8f8e57d0f3942_cgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a1eee734aa12c1565d6ae629924962115" title="Motor Driver class handler, communicates with driver and is responsible for reading latest motion req..." alt="" coords="224,31,367,57"/>
<area shape="rect" id="node3" href="classMotorDriver.html#aff8659e64841fb4b97c23b3494cd0575" title="Responsible for stopping the motor, i.e. disables the driver and sets velocity of motor to zero..." alt="" coords="415,5,573,32"/>
<area shape="rect" id="node5" href="classMotorDriver.html#a5ebab90ca98fa04463de1cbae76af994" title="Responsible for starting the motor, i.e. setups the driver and sets required velocity of motor..." alt="" coords="415,56,573,83"/>
<area shape="rect" id="node4" href="classMotorDriver.html#a754252fe0d18118e074cbdc1fe42da57" title="Enable Motor Driver Give argument as true for enabling, false for disabling the driver. " alt="" coords="621,31,795,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a64827491330490668bb8f8e57d0f3942_icgraph.png" border="0" usemap="#classMotorDriver_a64827491330490668bb8f8e57d0f3942_icgraph" alt=""/></div>
<map name="classMotorDriver_a64827491330490668bb8f8e57d0f3942_icgraph" id="classMotorDriver_a64827491330490668bb8f8e57d0f3942_icgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a534f4ca22b5dcffc9e40aafef09c76e5" title="Initializes motor drive TMC2209, and required pins. " alt="" coords="224,5,391,32"/>
</map>
</div>

</div>
</div>
<a id="a5ebab90ca98fa04463de1cbae76af994"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ebab90ca98fa04463de1cbae76af994">&#9670;&nbsp;</a></span>StartMotor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver::StartMotor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Responsible for starting the motor, i.e. setups the driver and sets required velocity of motor. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a5ebab90ca98fa04463de1cbae76af994_cgraph.png" border="0" usemap="#classMotorDriver_a5ebab90ca98fa04463de1cbae76af994_cgraph" alt=""/></div>
<map name="classMotorDriver_a5ebab90ca98fa04463de1cbae76af994_cgraph" id="classMotorDriver_a5ebab90ca98fa04463de1cbae76af994_cgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a754252fe0d18118e074cbdc1fe42da57" title="Enable Motor Driver Give argument as true for enabling, false for disabling the driver. " alt="" coords="212,5,385,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a5ebab90ca98fa04463de1cbae76af994_icgraph.png" border="0" usemap="#classMotorDriver_a5ebab90ca98fa04463de1cbae76af994_icgraph" alt=""/></div>
<map name="classMotorDriver_a5ebab90ca98fa04463de1cbae76af994_icgraph" id="classMotorDriver_a5ebab90ca98fa04463de1cbae76af994_icgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a1eee734aa12c1565d6ae629924962115" title="Motor Driver class handler, communicates with driver and is responsible for reading latest motion req..." alt="" coords="212,5,355,32"/>
<area shape="rect" id="node3" href="classMotorDriver.html#a64827491330490668bb8f8e57d0f3942" title="Starts handler thread. " alt="" coords="403,5,573,32"/>
<area shape="rect" id="node4" href="classMotorDriver.html#a534f4ca22b5dcffc9e40aafef09c76e5" title="Initializes motor drive TMC2209, and required pins. " alt="" coords="621,5,788,32"/>
</map>
</div>

</div>
</div>
<a id="a43c47b4f550a3ee08e7da340e699ba76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43c47b4f550a3ee08e7da340e699ba76">&#9670;&nbsp;</a></span>StopHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver::StopHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop handler thread. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a43c47b4f550a3ee08e7da340e699ba76_icgraph.png" border="0" usemap="#classMotorDriver_a43c47b4f550a3ee08e7da340e699ba76_icgraph" alt=""/></div>
<map name="classMotorDriver_a43c47b4f550a3ee08e7da340e699ba76_icgraph" id="classMotorDriver_a43c47b4f550a3ee08e7da340e699ba76_icgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a6ead9d8f796501adf9889a8e5aa7afc5" title="Cleans and disables motor driver. " alt="" coords="224,5,399,32"/>
</map>
</div>

</div>
</div>
<a id="aff8659e64841fb4b97c23b3494cd0575"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff8659e64841fb4b97c23b3494cd0575">&#9670;&nbsp;</a></span>StopMotor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver::StopMotor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Responsible for stopping the motor, i.e. disables the driver and sets velocity of motor to zero. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_aff8659e64841fb4b97c23b3494cd0575_cgraph.png" border="0" usemap="#classMotorDriver_aff8659e64841fb4b97c23b3494cd0575_cgraph" alt=""/></div>
<map name="classMotorDriver_aff8659e64841fb4b97c23b3494cd0575_cgraph" id="classMotorDriver_aff8659e64841fb4b97c23b3494cd0575_cgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a754252fe0d18118e074cbdc1fe42da57" title="Enable Motor Driver Give argument as true for enabling, false for disabling the driver. " alt="" coords="212,5,385,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_aff8659e64841fb4b97c23b3494cd0575_icgraph.png" border="0" usemap="#classMotorDriver_aff8659e64841fb4b97c23b3494cd0575_icgraph" alt=""/></div>
<map name="classMotorDriver_aff8659e64841fb4b97c23b3494cd0575_icgraph" id="classMotorDriver_aff8659e64841fb4b97c23b3494cd0575_icgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a1eee734aa12c1565d6ae629924962115" title="Motor Driver class handler, communicates with driver and is responsible for reading latest motion req..." alt="" coords="212,5,355,32"/>
<area shape="rect" id="node3" href="classMotorDriver.html#a64827491330490668bb8f8e57d0f3942" title="Starts handler thread. " alt="" coords="403,5,573,32"/>
<area shape="rect" id="node4" href="classMotorDriver.html#a534f4ca22b5dcffc9e40aafef09c76e5" title="Initializes motor drive TMC2209, and required pins. " alt="" coords="621,5,788,32"/>
</map>
</div>

</div>
</div>
<a id="a04e97c6adc4df4d186d6799dfd8165b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04e97c6adc4df4d186d6799dfd8165b2">&#9670;&nbsp;</a></span>UpdateCalibParams()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver::UpdateCalibParams </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCONFIG__SET_1_1CALIB__PARAMS.html">CONFIG_SET::CALIB_PARAMS</a>&#160;</td>
          <td class="paramname"><em>calib_param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates calibration parameters to be used by motor driver. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a04e97c6adc4df4d186d6799dfd8165b2_cgraph.png" border="0" usemap="#classMotorDriver_a04e97c6adc4df4d186d6799dfd8165b2_cgraph" alt=""/></div>
<map name="classMotorDriver_a04e97c6adc4df4d186d6799dfd8165b2_cgraph" id="classMotorDriver_a04e97c6adc4df4d186d6799dfd8165b2_cgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a754252fe0d18118e074cbdc1fe42da57" title="Enable Motor Driver Give argument as true for enabling, false for disabling the driver. " alt="" coords="228,5,401,32"/>
<area shape="rect" id="node3" href="classMotorDriver.html#a9151c6649515b7ff61dc6159456ffa80" title="Sets needed parameters for the driver. " alt="" coords="224,56,405,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classMotorDriver_a04e97c6adc4df4d186d6799dfd8165b2_icgraph.png" border="0" usemap="#classMotorDriver_a04e97c6adc4df4d186d6799dfd8165b2_icgraph" alt=""/></div>
<map name="classMotorDriver_a04e97c6adc4df4d186d6799dfd8165b2_icgraph" id="classMotorDriver_a04e97c6adc4df4d186d6799dfd8165b2_icgraph">
<area shape="rect" id="node2" href="classMotorDriver.html#a534f4ca22b5dcffc9e40aafef09c76e5" title="Initializes motor drive TMC2209, and required pins. " alt="" coords="224,13,391,39"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="acc772188969ac8c859d1e9c800eb0076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc772188969ac8c859d1e9c800eb0076">&#9670;&nbsp;</a></span>blind_traversal_requested_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorDriver::blind_traversal_requested_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa2d3e952c7708106df0c86196490a499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2d3e952c7708106df0c86196490a499">&#9670;&nbsp;</a></span>calib_params_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCONFIG__SET_1_1CALIB__PARAMS.html">CONFIG_SET::CALIB_PARAMS</a> MotorDriver::calib_params_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9072fc26381b16a6a5e39ab1d7ed1e46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9072fc26381b16a6a5e39ab1d7ed1e46">&#9670;&nbsp;</a></span>current_step_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int MotorDriver::current_step_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a09cb1d904ff0b9ce54f17fa54aec8c70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09cb1d904ff0b9ce54f17fa54aec8c70">&#9670;&nbsp;</a></span>direction_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorDriver::direction_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad99c6f2f224f78428b137f7856cfba4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad99c6f2f224f78428b137f7856cfba4b">&#9670;&nbsp;</a></span>driver_status_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceCONFIG__SET.html#a722f4ba49e35faf1a2504aa23677b2f0">CONFIG_SET::DRIVER_STATUS</a> MotorDriver::driver_status_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a140b9b922847586721725b7e76943c1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a140b9b922847586721725b7e76943c1e">&#9670;&nbsp;</a></span>expected_step_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int MotorDriver::expected_step_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab49b3ca9359af0016c206960887349b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab49b3ca9359af0016c206960887349b1">&#9670;&nbsp;</a></span>full_rot_step_count_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int MotorDriver::full_rot_step_count_ = (4 * <a class="el" href="namespaceCONFIG__SET.html#a7028034ed96d5ef10a87d1cdc12c5d27">CONFIG_SET::MOTOR_DRIVER_MICROSTEP</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aec36906063e5e09d5bb7f7843f526874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec36906063e5e09d5bb7f7843f526874">&#9670;&nbsp;</a></span>handler_thread_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;std::thread&gt; MotorDriver::handler_thread_ {nullptr}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abbc66ce217161de9ed45003718cd6c0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbc66ce217161de9ed45003718cd6c0e">&#9670;&nbsp;</a></span>is_motor_running_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorDriver::is_motor_running_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a930d873aa0a5961bd49b8b68553f5044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a930d873aa0a5961bd49b8b68553f5044">&#9670;&nbsp;</a></span>keep_handler_running_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorDriver::keep_handler_running_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a938712bd2b784e0db660fdb30ad312af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a938712bd2b784e0db660fdb30ad312af">&#9670;&nbsp;</a></span>last_motor_start_time_sec_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::time_t MotorDriver::last_motor_start_time_sec_ = std::time(nullptr)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6c443fae635cf2b50bfa205ac4f6418e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c443fae635cf2b50bfa205ac4f6418e">&#9670;&nbsp;</a></span>logger_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classLogging.html">Logging</a>&gt; MotorDriver::logger_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a86d3f7015a61c62463ea3e718c5bba1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d3f7015a61c62463ea3e718c5bba1c">&#9670;&nbsp;</a></span>step_timer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">hw_timer_t* MotorDriver::step_timer_ = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6c190777a6bcad1ea12f73707ed67de9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c190777a6bcad1ea12f73707ed67de9">&#9670;&nbsp;</a></span>stop_requested_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MotorDriver::stop_requested_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>mvp/src/motor_driver/<a class="el" href="motor__driver_8h_source.html">motor_driver.h</a></li>
<li>mvp/src/motor_driver/<a class="el" href="motor__driver_8cpp.html">motor_driver.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMotorDriver.html">MotorDriver</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
